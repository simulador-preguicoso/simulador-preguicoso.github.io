(()=>{"use strict";const e=document.getElementById("standings-table").querySelector("tbody");function t(t){const n={};for(const e of t.response){const t=e.teams.home.name;n[t]||(n[t]={played:0,wins:0,draws:0,losses:0,points:0,goalsFor:0,goalsAgainst:0});const s=e.teams.away.name;if(n[s]||(n[s]={played:0,wins:0,draws:0,losses:0,points:0,goalsFor:0,goalsAgainst:0}),"FT"===e.fixture.status.short){if(n[t].played++,n[t].goalsFor+=e.goals.home,n[t].goalsAgainst+=e.goals.away,n[s].played++,n[s].goalsFor+=e.goals.away,n[s].goalsAgainst+=e.goals.home,e.teams.home.winner){n[t].wins++,n[t].points+=3,n[s].losses++;continue}if(e.teams.away.winner){n[s].wins++,n[s].points+=3,n[t].losses++;continue}n[t].draws++,n[s].draws++,n[t].points+=1,n[s].points+=1}}const s=Object.entries(n).map((([e,t])=>({team:e,...t})));s.sort(((e,t)=>{if(e.points!==t.points)return t.points-e.points;if(e.wins!==t.wins)return t.wins-e.wins;const s=n[e.team].goalsFor-n[e.team].goalsAgainst;return n[t.team].goalsFor-n[t.team].goalsAgainst-s})),e.innerHTML="";let a=1;for(const t of s){const n=document.createElement("tr"),s=document.createElement("td");s.textContent=a++,n.appendChild(s);const o=document.createElement("td");o.textContent=t.team,n.appendChild(o);const l=document.createElement("td");l.textContent=t.points,n.appendChild(l);const d=document.createElement("td");d.textContent=t.played,n.appendChild(d);const i=document.createElement("td");i.textContent=t.wins,n.appendChild(i);const c=document.createElement("td");c.textContent=t.draws,n.appendChild(c);const r=document.createElement("td");r.textContent=t.losses,n.appendChild(r);const m=document.createElement("td");m.textContent=t.goalsFor,n.appendChild(m);const u=document.createElement("td");u.textContent=t.goalsAgainst,n.appendChild(u);const p=document.createElement("td");p.textContent=t.goalsFor-t.goalsAgainst,n.appendChild(p),e.appendChild(n)}return s}const n=document.getElementById("fixtures-table").querySelector("tbody"),s=document.getElementById("round"),a=document.getElementById("previous"),o=document.getElementById("next"),l=[];function d(e){const t=document.createElement("img");return t.src=e,t.classList.add("team-logo"),t}function i(e){const t=10*(e-1),d=t+10,i=l.slice(t,d);s.innerHTML=`Rodada ${e}`,s.style.backgroundColor=i.some((e=>!e.classList.contains("ft")))?"#FFC96F":"#ACD793",n.innerHTML="",i.forEach((e=>n.appendChild(e))),a.disabled=1===e,o.disabled=e===Math.ceil(l.length/10)}let c,r=1;document.addEventListener("DOMContentLoaded",(async()=>{c=await fetch("/dist/assets/fixtures.json").then((e=>e.json())),t(c),function(e){for(const n of e.response){const s=document.createElement("tr"),a=document.createElement("td");a.appendChild(d(n.teams.home.logo)),s.appendChild(a);const o=document.createElement("td");o.textContent="Empate",s.appendChild(o);const i=document.createElement("td");if(i.appendChild(d(n.teams.away.logo)),s.appendChild(i),l.push(s),"FT"!==n.fixture.status.short)a.addEventListener("click",(()=>{n.fixture.status.short="FT",n.teams.home.winner=!0,n.goals.home=1,n.teams.away.winner=null,n.goals.away=0,a.classList.add("result"),i.classList.remove("result"),o.classList.remove("result"),t(e)})),i.addEventListener("click",(()=>{n.fixture.status.short="FT",n.teams.home.winner=null,n.goals.home=0,n.teams.away.winner=!0,n.goals.away=1,a.classList.remove("result"),i.classList.add("result"),o.classList.remove("result"),t(e)})),o.addEventListener("click",(()=>{n.fixture.status.short="FT",n.teams.home.winner=null,n.goals.home=0,n.teams.away.winner=null,n.goals.away=0,a.classList.remove("result"),i.classList.remove("result"),o.classList.add("result"),t(e)}));else{if(s.classList.add("ft"),n.teams.home.winner){a.classList.add("result");continue}if(n.teams.away.winner){i.classList.add("result");continue}o.classList.add("result")}}}(c),i(r),document.getElementById("previous").addEventListener("click",(()=>i(--r))),document.getElementById("next").addEventListener("click",(()=>i(++r))),document.getElementById("show-table").addEventListener("click",(e=>{e.target.checked?document.getElementById("standings-table").style.visibility="":document.getElementById("standings-table").style.visibility="hidden"}))}))})();